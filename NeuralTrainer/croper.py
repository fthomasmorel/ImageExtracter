import scipy
import numpy as np
import argparse
import cv2


#['air_1146.png', 'air_13576.png', 'air_1373.png', 'air_1375.png', 'air_1460.png', 'air_1635.png', 'air_16986.png', 'air_17622.png', 'air_17624.png', 'air_17625.png', 'air_17628.png', 'air_17825.png', 'air_17826.png', 'air_17827.png', 'air_18065.png', 'air_18066.png', 'air_18067.png', 'air_18068.png', 'air_18069.png', 'air_18099.png', 'air_18193.png', 'air_18543.png', 'air_18778.png', 'air_18897.png', 'air_19502.png', 'air_19550.png', 'air_19551.png', 'air_19762.png', 'air_20258.png', 'air_20261.png', 'air_20262.png', 'air_2044.png', 'air_20462.png', 'air_20463.png', 'air_20496.png', 'air_20596.png', 'air_20632.png', 'air_20633.png', 'air_20747.png', 'air_20748.png', 'air_20778.png', 'air_20815.png', 'air_20818.png', 'air_20844.png', 'air_20846.png', 'air_20941.png', 'air_21019.png', 'air_21203.png', 'air_21262.png', 'air_22486.png', 'air_22597.png', 'air_22600.png', 'air_22601.png', 'air_22608.png', 'air_24175.png', 'air_24176.png', 'air_24177.png', 'air_26015.png', 'air_26135.png', 'air_3834.png', 'air_3835.png', 'air_4115.png', 'air_5859.png', 'air_6249.png', 'air_7848.png', 'air_7849.png', 'air_8390.png', 'air_8392.png', 'air_8394.png', 'air_8565.png', 'air_9158.png', 'air_9266.png', 'air_9833.png', 'bomb_1159.png', 'bomb_11753.png', 'bomb_12191.png', 'bomb_12504.png', 'bomb_12642.png', 'bomb_12734.png', 'bomb_12839.png', 'bomb_12844.png', 'bomb_1396.png', 'bomb_14541.png', 'bomb_14954.png', 'bomb_15727.png', 'bomb_16152.png', 'bomb_16153.png', 'bomb_16155.png', 'bomb_16156.png', 'bomb_1671.png', 'bomb_16973.png', 'bomb_1715.png', 'bomb_17217.png', 'bomb_1783.png', 'bomb_18690.png', 'bomb_18706.png', 'bomb_19471.png', 'bomb_19957.png', 'bomb_20060.png', 'bomb_20132.png', 'bomb_20210.png', 'bomb_20272.png', 'bomb_20306.png', 'bomb_20371.png', 'bomb_20481.png', 'bomb_20483.png', 'bomb_20717.png', 'bomb_21068.png', 'bomb_21146.png', 'bomb_2164.png', 'bomb_22749.png', 'bomb_22750.png', 'bomb_22799.png', 'bomb_22801.png', 'bomb_23464.png', 'bomb_23592.png', 'bomb_23616.png', 'bomb_24011.png', 'bomb_24131.png', 'bomb_24133.png', 'bomb_24692.png', 'bomb_24763.png', 'bomb_24765.png', 'bomb_24775.png', 'bomb_24794.png', 'bomb_25317.png', 'bomb_25421.png', 'bomb_25803.png', 'bomb_25807.png', 'bomb_25814.png', 'bomb_26218.png', 'bomb_2892.png', 'bomb_2952.png', 'bomb_3057.png', 'bomb_3283.png', 'bomb_3284.png', 'bomb_3285.png', 'bomb_3389.png', 'bomb_3422.png', 'bomb_3497.png', 'bomb_4422.png', 'bomb_571.png', 'bomb_645.png', 'bomb_7913.png', 'bomb_8688.png', 'bomb_8689.png', 'bomb_8975.png', 'bomb_9035.png', 'bomb_9372.png', 'bomb_9663.png', 'car_12331.png', 'car_12332.png', 'car_15.png', 'car_16186.png', 'car_17330.png', 'car_18820.png', 'car_18988.png', 'car_18989.png', 'car_18990.png', 'car_18991.png', 'car_19724.png', 'car_19923.png', 'car_19924.png', 'car_20382.png', 'car_20409.png', 'car_20412.png', 'car_20413.png', 'car_20416.png', 'car_20420.png', 'car_20421.png', 'car_2097.png', 'car_2130.png', 'car_22271.png', 'car_22349.png', 'car_22350.png', 'car_22351.png', 'car_22512.png', 'car_2270.png', 'car_24093.png', 'car_24243.png', 'car_25003.png', 'car_25004.png', 'car_25081.png', 'car_25082.png', 'car_25083.png', 'car_25084.png', 'car_3741.png', 'car_3743.png', 'car_3988.png', 'car_4437.png', 'car_4438.png', 'car_4439.png', 'car_487.png', 'car_489.png', 'car_8758.png', 'car_953.png', 'danger_12882.png', 'danger_12883.png', 'danger_13371.png', 'danger_13564.png', 'danger_13681.png', 'danger_15055.png', 'danger_16122.png', 'danger_16942.png', 'danger_17357.png', 'danger_17469.png', 'danger_17737.png', 'danger_18217.png', 'danger_18219.png', 'danger_18259.png', 'danger_18323.png', 'danger_1848.png', 'danger_18609.png', 'danger_18746.png', 'danger_18977.png', 'danger_18978.png', 'danger_18984.png', 'danger_18985.png', 'danger_19226.png', 'danger_20095.png', 'danger_20447.png', 'danger_21009.png', 'danger_2167.png', 'danger_2196.png', 'danger_2197.png', 'danger_2198.png', 'danger_2199.png', 'danger_21996.png', 'danger_22329.png', 'danger_2235.png', 'danger_22372.png', 'danger_22817.png', 'danger_23398.png', 'danger_24478.png', 'danger_24959.png', 'danger_25070.png', 'danger_25472.png', 'danger_25545.png', 'danger_25573.png', 'danger_25574.png', 'danger_25613.png', 'danger_25614.png', 'danger_25715.png', 'danger_2940.png', 'danger_3361.png', 'danger_3536.png', 'danger_3632.png', 'danger_4237.png', 'danger_4544.png', 'danger_5512.png', 'danger_7652.png', 'danger_7922.png', 'danger_8099.png', 'danger_8416.png', 'danger_875.png', 'danger_8788.png', 'danger_8789.png', 'danger_8791.png', 'danger_8822.png', 'danger_8825.png', 'danger_8826.png', 'danger_9001.png', 'danger_9004.png', 'danger_9042.png', 'danger_9043.png', 'danger_9304.png', 'danger_9389.png', 'danger_9424.png', 'dead_13211.png', 'dead_14139.png', 'dead_16165.png', 'dead_1905.png', 'dead_19058.png', 'dead_19442.png', 'dead_20454.png', 'dead_20455.png', 'dead_22380.png', 'dead_22625.png', 'dead_23043.png', 'dead_23297.png', 'dead_23345.png', 'dead_23483.png', 'dead_23732.png', 'dead_23878.png', 'dead_24777.png', 'dead_2557.png', 'dead_26622.png', 'dead_3921.png', 'dead_3922.png', 'dead_3924.png', 'dead_4591.png', 'dead_4592.png', 'dead_4594.png', 'dead_4595.png', 'dead_539.png', 'dead_8152.png', 'dead_8498.png', 'dead_8500.png', 'dead_8501.png', 'dead_8502.png', 'dead_8664.png', 'dead_8666.png', 'dead_8712.png', 'dead_8951.png', 'fire_10709.png', 'fire_10710.png', 'fire_10818.png', 'fire_10983.png', 'fire_11157.png', 'fire_11261.png', 'fire_11322.png', 'fire_11323.png', 'fire_11325.png', 'fire_11359.png', 'fire_11360.png', 'fire_12717.png', 'fire_13447.png', 'fire_13448.png', 'fire_13450.png', 'fire_15295.png', 'fire_15951.png', 'fire_1812.png', 'fire_18817.png', 'fire_19336.png', 'fire_19338.png', 'fire_20237.png', 'fire_20374.png', 'fire_21093.png', 'fire_22235.png', 'fire_22237.png', 'fire_22238.png', 'fire_22336.png', 'fire_22338.png', 'fire_22339.png', 'fire_22342.png', 'fire_23813.png', 'fire_23814.png', 'fire_2412.png', 'fire_24865.png', 'fire_24921.png', 'fire_26271.png', 'fire_3081.png', 'fire_3780.png', 'fire_4506.png', 'fire_4507.png', 'fire_4508.png', 'fire_4509.png', 'fire_5114.png', 'fire_5558.png', 'fire_6607.png', 'fire_6610.png', 'fire_6611.png', 'fire_7231.png', 'fire_7854.png', 'fire_7855.png', 'fire_7856.png', 'fire_7926.png', 'fire_7927.png', 'fire_7928.png', 'fire_9146.png', 'flag_10877.png', 'flag_10878.png', 'flag_10879.png', 'flag_10880.png', 'flag_12174.png', 'flag_12216.png', 'flag_1270.png', 'flag_13397.png', 'flag_14153.png', 'flag_1487.png', 'flag_1514.png', 'flag_1515.png', 'flag_15893.png', 'flag_15896.png', 'flag_15928.png', 'flag_16226.png', 'flag_16990.png', 'flag_17068.png', 'flag_17189.png', 'flag_17274.png', 'flag_17404.png', 'flag_17790.png', 'flag_18277.png', 'flag_18278.png', 'flag_18380.png', 'flag_18788.png', 'flag_18789.png', 'flag_18792.png', 'flag_18863.png', 'flag_18864.png', 'flag_18865.png', 'flag_19006.png', 'flag_19320.png', 'flag_19383.png', 'flag_20398.png', 'flag_21024.png', 'flag_21802.png', 'flag_22320.png', 'flag_22639.png', 'flag_23289.png', 'flag_24294.png', 'flag_24295.png', 'flag_24354.png', 'flag_24400.png', 'flag_24463.png', 'flag_24575.png', 'flag_24892.png', 'flag_24895.png', 'flag_25021.png', 'flag_25119.png', 'flag_25910.png', 'flag_26150.png', 'flag_2736.png', 'flag_3097.png', 'flag_3203.png', 'flag_3407.png', 'flag_3408.png', 'flag_402.png', 'flag_4951.png', 'flag_4954.png', 'flag_4955.png', 'flag_5157.png', 'flag_6408.png', 'flag_6411.png', 'flag_6416.png', 'flag_7253.png', 'flag_7286.png', 'flag_731.png', 'flag_7736.png', 'flag_7737.png', 'flag_7738.png', 'flag_7739.png', 'flag_7975.png', 'flag_8116.png', 'flag_8117.png', 'flag_8118.png', 'flag_8119.png', 'flag_8120.png', 'flag_8261.png', 'flag_8262.png', 'flag_8264.png', 'flag_8553.png', 'flag_8814.png', 'flag_9148.png', 'flag_9270.png', 'flag_9288.png', 'flag_9363.png', 'flag_9966.png', 'flash_10647.png', 'flash_11160.png', 'flash_1238.png', 'flash_12597.png', 'flash_1438.png', 'flash_14761.png', 'flash_17716.png', 'flash_18966.png', 'flash_1928.png', 'flash_1929.png', 'flash_1934.png', 'flash_20036.png', 'flash_20039.png', 'flash_20627.png', 'flash_212.png', 'flash_213.png', 'flash_24912.png', 'flash_25008.png', 'flash_25375.png', 'flash_26062.png', 'flash_26064.png', 'flash_26497.png', 'flash_3092.png', 'flash_3093.png', 'flash_4937.png', 'flash_5252.png', 'flash_786.png', 'flash_8002.png', 'flash_8007.png', 'flash_8009.png', 'flash_8069.png', 'flash_8070.png', 'flash_8654.png', 'forbidden_1013.png', 'forbidden_11301.png', 'forbidden_11790.png', 'forbidden_11791.png', 'forbidden_11924.png', 'forbidden_12032.png', 'forbidden_12410.png', 'forbidden_12693.png', 'forbidden_14040.png', 'forbidden_14041.png', 'forbidden_14450.png', 'forbidden_14552.png', 'forbidden_14583.png', 'forbidden_14584.png', 'forbidden_14690.png', 'forbidden_14692.png', 'forbidden_1475.png', 'forbidden_1501.png', 'forbidden_1502.png', 'forbidden_1503.png', 'forbidden_1504.png', 'forbidden_15584.png', 'forbidden_1568.png', 'forbidden_15898.png', 'forbidden_15899.png', 'forbidden_15900.png', 'forbidden_15901.png', 'forbidden_15902.png', 'forbidden_15958.png', 'forbidden_16191.png', 'forbidden_16299.png', 'forbidden_16301.png', 'forbidden_16607.png', 'forbidden_16849.png', 'forbidden_17128.png', 'forbidden_17744.png', 'forbidden_17745.png', 'forbidden_17747.png', 'forbidden_18050.png', 'forbidden_18053.png', 'forbidden_18054.png', 'forbidden_18055.png', 'forbidden_18166.png', 'forbidden_18190.png', 'forbidden_18223.png', 'forbidden_18582.png', 'forbidden_18587.png', 'forbidden_18882.png', 'forbidden_18885.png', 'forbidden_18918.png', 'forbidden_18920.png', 'forbidden_18921.png', 'forbidden_19658.png', 'forbidden_19659.png', 'forbidden_19728.png', 'forbidden_19729.png', 'forbidden_19730.png', 'forbidden_19731.png', 'forbidden_19732.png', 'forbidden_19966.png', 'forbidden_19969.png', 'forbidden_20010.png', 'forbidden_20011.png', 'forbidden_20350.png', 'forbidden_20905.png', 'forbidden_20907.png', 'forbidden_20984.png', 'forbidden_20985.png', 'forbidden_20986.png', 'forbidden_21674.png', 'forbidden_21675.png', 'forbidden_21676.png', 'forbidden_21677.png', 'forbidden_21884.png', 'forbidden_21886.png', 'forbidden_21887.png', 'forbidden_21888.png', 'forbidden_22126.png', 'forbidden_22169.png', 'forbidden_22205.png', 'forbidden_2237.png', 'forbidden_2238.png', 'forbidden_2240.png', 'forbidden_22448.png', 'forbidden_22452.png', 'forbidden_22516.png', 'forbidden_22518.png', 'forbidden_22520.png', 'forbidden_22540.png', 'forbidden_22541.png', 'forbidden_22542.png', 'forbidden_22543.png', 'forbidden_22544.png', 'forbidden_22620.png', 'forbidden_22621.png', 'forbidden_22622.png', 'forbidden_22623.png', 'forbidden_22624.png', 'forbidden_22765.png', 'forbidden_22766.png', 'forbidden_22827.png', 'forbidden_22828.png', 'forbidden_22830.png', 'forbidden_23176.png', 'forbidden_23177.png', 'forbidden_23305.png', 'forbidden_2336.png', 'forbidden_23549.png', 'forbidden_23837.png', 'forbidden_24037.png', 'forbidden_24113.png', 'forbidden_24114.png', 'forbidden_2477.png', 'forbidden_2479.png', 'forbidden_2480.png', 'forbidden_24801.png', 'forbidden_24805.png', 'forbidden_25178.png', 'forbidden_25402.png', 'forbidden_25403.png', 'forbidden_25404.png', 'forbidden_25554.png', 'forbidden_25729.png', 'forbidden_25730.png', 'forbidden_25731.png', 'forbidden_25732.png', 'forbidden_25733.png', 'forbidden_26102.png', 'forbidden_26207.png', 'forbidden_26208.png', 'forbidden_26209.png', 'forbidden_2633.png', 'forbidden_26490.png', 'forbidden_26491.png', 'forbidden_26492.png', 'forbidden_2698.png', 'forbidden_2841.png', 'forbidden_3107.png', 'forbidden_3206.png', 'forbidden_3207.png', 'forbidden_3209.png', 'forbidden_3230.png', 'forbidden_3611.png', 'forbidden_3612.png', 'forbidden_3614.png', 'forbidden_495.png', 'forbidden_5568.png', 'forbidden_5707.png', 'forbidden_6393.png', 'forbidden_6394.png', 'forbidden_6438.png', 'forbidden_6538.png', 'forbidden_7208.png', 'forbidden_7721.png', 'forbidden_7762.png', 'forbidden_8214.png', 'forbidden_8290.png', 'forbidden_8291.png', 'forbidden_8292.png', 'forbidden_8293.png', 'forbidden_8294.png', 'forbidden_8848.png', 'forbidden_8943.png', 'forbidden_8944.png', 'forbidden_9017.png', 'forbidden_958.png', 'forbidden_959.png', 'man_12432.png', 'man_12568.png', 'man_12768.png', 'man_13508.png', 'man_15735.png', 'man_15736.png', 'man_18807.png', 'man_18872.png', 'man_19360.png', 'man_19362.png', 'man_21821.png', 'man_22297.png', 'man_22640.png', 'man_2474.png', 'man_6740.png', 'man_7990.png', 'man_8094.png', 'man_8648.png', 'man_8686.png', 'parking_10030.png', 'parking_10031.png', 'parking_10032.png', 'parking_10033.png', 'parking_1066.png', 'parking_1102.png', 'parking_1103.png', 'parking_1104.png', 'parking_1105.png', 'parking_1106.png', 'parking_11107.png', 'parking_11461.png', 'parking_11584.png', 'parking_11587.png', 'parking_11692.png', 'parking_11871.png', 'parking_1247.png', 'parking_12500.png', 'parking_12671.png', 'parking_12775.png', 'parking_12776.png', 'parking_12777.png', 'parking_12778.png', 'parking_12779.png', 'parking_12984.png', 'parking_13602.png', 'parking_14383.png', 'parking_1448.png', 'parking_14809.png', 'parking_14810.png', 'parking_15324.png', 'parking_15325.png', 'parking_15326.png', 'parking_15327.png', 'parking_15328.png', 'parking_15906.png', 'parking_15907.png', 'parking_16555.png', 'parking_16864.png', 'parking_16968.png', 'parking_1699.png', 'parking_18172.png', 'parking_18837.png', 'parking_18838.png', 'parking_18840.png', 'parking_18841.png', 'parking_19432.png', 'parking_19564.png', 'parking_20227.png', 'parking_20228.png', 'parking_20506.png', 'parking_20896.png', 'parking_21836.png', 'parking_22214.png', 'parking_22216.png', 'parking_22217.png', 'parking_22218.png', 'parking_22221.png', 'parking_22222.png', 'parking_24224.png', 'parking_24226.png', 'parking_24227.png', 'parking_24650.png', 'parking_24786.png', 'parking_24787.png', 'parking_24840.png', 'parking_24999.png', 'parking_25131.png', 'parking_25132.png', 'parking_25134.png', 'parking_25140.png', 'parking_25241.png', 'parking_25507.png', 'parking_25672.png', 'parking_25775.png', 'parking_26156.png', 'parking_26326.png', 'parking_26529.png', 'parking_2851.png', 'parking_2853.png', 'parking_306.png', 'parking_3166.png', 'parking_3446.png', 'parking_3447.png', 'parking_406.png', 'parking_4181.png', 'parking_4182.png', 'parking_4183.png', 'parking_4184.png', 'parking_4185.png', 'parking_4286.png', 'parking_4287.png', 'parking_4288.png', 'parking_4289.png', 'parking_4290.png', 'parking_5096.png', 'parking_5100.png', 'parking_5202.png', 'parking_5205.png', 'parking_6597.png', 'parking_6880.png', 'parking_7111.png', 'parking_7255.png', 'parking_7256.png', 'parking_7811.png', 'parking_7982.png', 'parking_8021.png', 'parking_8023.png', 'parking_8025.png', 'parking_8121.png', 'parking_8123.png', 'parking_8125.png', 'parking_8191.png', 'parking_8503.png', 'parking_8573.png', 'parking_8574.png', 'parking_8579.png', 'parking_8738.png', 'parking_8894.png', 'parking_8895.png', 'parking_8952.png', 'parking_9030.png', 'parking_9094.png', 'parking_9095.png', 'parking_9097.png', 'parking_9472.png', 'parking_968.png', 'parking_969.png', 'parking_9694.png', 'parking_970.png', 'parking_971.png', 'parking_972.png', 'urgent_1048.png', 'urgent_1122.png', 'urgent_1259.png', 'urgent_12609.png', 'urgent_12611.png', 'urgent_13226.png', 'urgent_15140.png', 'urgent_15142.png', 'urgent_15194.png', 'urgent_15195.png', 'urgent_15196.png', 'urgent_15465.png', 'urgent_15466.png', 'urgent_15468.png', 'urgent_17097.png', 'urgent_17246.png', 'urgent_17248.png', 'urgent_18861.png', 'urgent_18911.png', 'urgent_18912.png', 'urgent_18914.png', 'urgent_18915.png', 'urgent_18916.png', 'urgent_19377.png', 'urgent_1941.png', 'urgent_19634.png', 'urgent_19637.png', 'urgent_19697.png', 'urgent_2057.png', 'urgent_21559.png', 'urgent_22633.png', 'urgent_22634.png', 'urgent_22729.png', 'urgent_234.png', 'urgent_23825.png', 'urgent_23949.png', 'urgent_23950.png', 'urgent_24550.png', 'urgent_24555.png', 'urgent_24678.png', 'urgent_24811.png', 'urgent_24817.png', 'urgent_24818.png', 'urgent_24881.png', 'urgent_25272.png', 'urgent_25273.png', 'urgent_26452.png', 'urgent_333.png', 'urgent_334.png', 'urgent_3342.png', 'urgent_3572.png', 'urgent_3685.png', 'urgent_3712.png', 'urgent_399.png', 'urgent_400.png', 'urgent_442.png', 'urgent_444.png', 'urgent_445.png', 'urgent_476.png', 'urgent_478.png', 'urgent_511.png', 'urgent_512.png', 'urgent_513.png', 'urgent_514.png', 'urgent_5496.png', 'urgent_5497.png', 'urgent_5500.png', 'urgent_6224.png', 'urgent_6225.png', 'urgent_6228.png', 'urgent_6504.png', 'urgent_7150.png', 'urgent_8156.png', 'urgent_8159.png', 'urgent_8279.png', 'urgent_8395.png', 'urgent_8396.png', 'urgent_8463.png', 'urgent_8996.png', 'urgent_9104.png', 'urgent_9107.png', 'urgent_994.png', 'urgent_995.png', 'warning_13360.png', 'warning_13432.png', 'warning_13459.png', 'warning_13462.png', 'warning_13831.png', 'warning_14458.png', 'warning_1491.png', 'warning_1494.png', 'warning_1495.png', 'warning_1563.png', 'warning_167.png', 'warning_168.png', 'warning_16863.png', 'warning_169.png', 'warning_18247.png', 'warning_18248.png', 'warning_18250.png', 'warning_18251.png', 'warning_18494.png', 'warning_18495.png', 'warning_18546.png', 'warning_18551.png', 'warning_18934.png', 'warning_19010.png', 'warning_19011.png', 'warning_19047.png', 'warning_19102.png', 'warning_19171.png', 'warning_19665.png', 'warning_19981.png', 'warning_20041.png', 'warning_20086.png', 'warning_20194.png', 'warning_20196.png', 'warning_20197.png', 'warning_20296.png', 'warning_20432.png', 'warning_2068.png', 'warning_2072.png', 'warning_21232.png', 'warning_21271.png', 'warning_22327.png', 'warning_22500.png', 'warning_22560.png', 'warning_22561.png', 'warning_22885.png', 'warning_23261.png', 'warning_23262.png', 'warning_23325.png', 'warning_24403.png', 'warning_24404.png', 'warning_24405.png', 'warning_24406.png', 'warning_24539.png', 'warning_24638.png', 'warning_24642.png', 'warning_24717.png', 'warning_24993.png', 'warning_24994.png', 'warning_25055.png', 'warning_25096.png', 'warning_25100.png', 'warning_25126.png', 'warning_25171.png', 'warning_25520.png', 'warning_25735.png', 'warning_25736.png', 'warning_25911.png', 'warning_26154.png', 'warning_26155.png', 'warning_30.png', 'warning_301.png', 'warning_3366.png', 'warning_3369.png', 'warning_3370.png', 'warning_3372.png', 'warning_3583.png', 'warning_3652.png', 'warning_3653.png', 'warning_3655.png', 'warning_3691.png', 'warning_3693.png', 'warning_372.png', 'warning_375.png', 'warning_3801.png', 'warning_3971.png', 'warning_3972.png', 'warning_3973.png', 'warning_3974.png', 'warning_449.png', 'warning_5056.png', 'warning_5675.png', 'warning_5677.png', 'warning_5679.png', 'warning_6242.png', 'warning_6243.png', 'warning_644.png', 'warning_6835.png', 'warning_7040.png', 'warning_7041.png', 'warning_7042.png', 'warning_7043.png', 'warning_7044.png', 'warning_7292.png', 'warning_7499.png', 'warning_7500.png', 'warning_7502.png', 'warning_7879.png', 'warning_7881.png', 'warning_7946.png', 'warning_8490.png', 'warning_8492.png', 'warning_8601.png', 'warning_8916.png', 'warning_893.png', 'warning_9327.png', 'water_10234.png', 'water_12298.png', 'water_13854.png', 'water_15712.png', 'water_15880.png', 'water_16137.png', 'water_16177.png', 'water_16688.png', 'water_16689.png', 'water_16690.png', 'water_16692.png', 'water_16960.png', 'water_17269.png', 'water_17270.png', 'water_17271.png', 'water_17272.png', 'water_17273.png', 'water_17388.png', 'water_17389.png', 'water_17390.png', 'water_17394.png', 'water_17395.png', 'water_1830.png', 'water_18411.png', 'water_18485.png', 'water_19311.png', 'water_19313.png', 'water_19373.png', 'water_19608.png', 'water_20114.png', 'water_20286.png', 'water_20340.png', 'water_20392.png', 'water_2147.png', 'water_2190.png', 'water_2226.png', 'water_22289.png', 'water_22291.png', 'water_2243.png', 'water_22656.png', 'water_22657.png', 'water_22714.png', 'water_22715.png', 'water_22716.png', 'water_22718.png', 'water_22721.png', 'water_2284.png', 'water_23216.png', 'water_23251.png', 'water_23777.png', 'water_24261.png', 'water_24622.png', 'water_24627.png', 'water_24896.png', 'water_24898.png', 'water_24900.png', 'water_25017.png', 'water_25019.png', 'water_25460.png', 'water_2732.png', 'water_326.png', 'water_330.png', 'water_5432.png', 'water_5829.png', 'water_5928.png', 'water_7038.png', 'water_7599.png', 'water_7601.png', 'water_8049.png', 'water_8050.png', 'water_8462.png', 'water_9063.png', 'water_9522.png']

def crop(image, margin = 0.05, resizing=300):

    _, w, h = image.shape[::-1]

    ratio = resizing/w
    if ratio < 1:
        image = cv2.resize(image, (int(round(ratio * w)), int(round(ratio * h))))

    _, w, h = image.shape[::-1]

    margin = w*0.05
    top = 0
    bottom = h
    left = 0
    right = w

    for i in range(0, h-1):
        line_sum = sum([val for sublist in image[i].tolist() for val in sublist])
        if line_sum < w*3*255:
            top = max(i-margin,0)
            break

    for i in range(0, h):
        i = h-i-1
        line_sum = sum([val for sublist in image[i].tolist() for val in sublist])
        if line_sum < w*3*255:
            bottom = min(i+margin, h)
            break

    for i in range(0, w-1):
        line_sum = sum([val for sublist in image[:,i].tolist() for val in sublist])
        if line_sum < h*3*255:
            left = max(i-margin, 0)
            break

    for i in range(0, w):
        i = w-i-1
        line_sum = sum([val for sublist in image[:,i].tolist() for val in sublist])
        if line_sum < h*3*255:
            right = min(i+margin,w)
            break

    if bottom-top > right-left:
        left = max(left + (right-left)/2 - (bottom-top)/2, 0)
        right = min(left + (right-left)/2 + (bottom-top)/2, w)
        if right == w:
            left = right-(bottom-top)
        if left == 0:
            right = left+(bottom-top)
        return image[int(top):int(bottom),int(left):int(right)]
    else:
        top = max(top + (bottom-top)/2 - (right-left)/2, 0)
        bottom = min(top + (bottom-top)/2 + (right-left)/2, h)
        if bottom == h:
            top = bottom-(right-left)
        if top == 0:
            bottom = top+(right-left)
        return image[int(top):int(bottom),int(left):int(right)]
